{% extends "base.html" %}

{% block title %}Dashboard | AI Protector{% endblock %}

{% block content %}
<h2>Bienvenido, {{ username }}</h2>
<p>Este es tu panel de control personalizado con AdminLTE.</p>

<div class="card">
  <div class="card-header">
    <h3 class="card-title">Monitor de Logs Cr√≠ticos en Tiempo Real</h3>
  </div>
  <div class="card-body">
    <div class="embed-responsive embed-responsive-16by9">
        <iframe class="embed-responsive-item" src="http://localhost:5601/app/dashboards#/view/3c9ffd60-504c-11f0-a712-bbd0e0eacbad?embed=true&_a=(description:'',filters:!(),fullScreenMode:!f,options:(hidePanelTitles:!f,syncColors:!f,useMargins:!t),panels:!((embeddableConfig:(attributes:(references:!((id:'33b0a7f0-504b-11f0-a712-bbd0e0eacbad',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'33b0a7f0-504b-11f0-a712-bbd0e0eacbad',name:indexpattern-datasource-layer-2c1ccd44-b803-4b89-af1a-fee0a61fda25,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:('2c1ccd44-b803-4b89-af1a-fee0a61fda25':(columnOrder:!(e2c77c3f-ba3f-49a6-b91e-e3dd3769eb05,'37ded974-7366-43d5-8b97-cff90d50dab1',a1a96dd9-c150-4db3-8c48-23ea5314a1f9,a2e845fb-b122-493a-a96a-62b640e5d5c5),columns:('37ded974-7366-43d5-8b97-cff90d50dab1':(customLabel:!t,dataType:string,isBucketed:!t,label:IP,operationType:terms,params:(missingBucket:!f,orderBy:(columnId:a2e845fb-b122-493a-a96a-62b640e5d5c5,type:column),orderDirection:desc,otherBucket:!t,size:5),scale:ordinal,sourceField:source_ip.keyword),a1a96dd9-c150-4db3-8c48-23ea5314a1f9:(customLabel:!t,dataType:date,isBucketed:!t,label:Date,operationType:date_histogram,params:(interval:'10m'),scale:interval,sourceField:received_at),a2e845fb-b122-493a-a96a-62b640e5d5c5:(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records),e2c77c3f-ba3f-49a6-b91e-e3dd3769eb05:(dataType:string,isBucketed:!t,label:Filters,operationType:filters,params:(filters:!((input:(language:kuery,query:'risk_level.keyword%20:%20%22CR%C3%8DTICO%22'),label:'%F0%9F%94%B4%20CR%C3%8DTICO'),(input:(language:kuery,query:'risk_level.keyword%20:%20%22ALTO%22'),label:'%F0%9F%9F%A0%20ALTO'),(input:(language:kuery,query:'risk_level.keyword%20:%20%22MEDIO%22'),label:'%F0%9F%9F%A1%20MEDIO'),(input:(language:kuery,query:'risk_level.keyword%20:%20%22BAJO%22'),label:'%F0%9F%9F%A2%20BAJO'))),scale:ordinal)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(columns:!((columnId:'37ded974-7366-43d5-8b97-cff90d50dab1',isTransposed:!f),(columnId:a2e845fb-b122-493a-a96a-62b640e5d5c5,isTransposed:!f),(columnId:a1a96dd9-c150-4db3-8c48-23ea5314a1f9,isTransposed:!f),(columnId:e2c77c3f-ba3f-49a6-b91e-e3dd3769eb05,isTransposed:!t)),layerId:'2c1ccd44-b803-4b89-af1a-fee0a61fda25',layerType:data,sorting:(columnId:a1a96dd9-c150-4db3-8c48-23ea5314a1f9,direction:desc))),title:'',type:lens,visualizationType:lnsDatatable),enhancements:(),hidePanelTitles:!f),gridData:(h:13,i:'741dc735-17e8-4e61-aa95-2e36ab676dd1',w:48,x:0,y:0),panelIndex:'741dc735-17e8-4e61-aa95-2e36ab676dd1',title:'%C3%9Altimos%20logs%20por%20IP',type:lens,version:'7.17.0'),(embeddableConfig:(attributes:(references:!((id:'33b0a7f0-504b-11f0-a712-bbd0e0eacbad',name:indexpattern-datasource-current-indexpattern,type:index-pattern),(id:'33b0a7f0-504b-11f0-a712-bbd0e0eacbad',name:indexpattern-datasource-layer-f77935f3-583e-496f-97c3-ca00779d89de,type:index-pattern)),state:(datasourceStates:(indexpattern:(layers:(f77935f3-583e-496f-97c3-ca00779d89de:(columnOrder:!(bcf13466-e2bf-4ded-97f4-19007e2d10b7,'591978df-7c5c-4e18-809e-09c12aac1cb2'),columns:('591978df-7c5c-4e18-809e-09c12aac1cb2':(dataType:number,isBucketed:!f,label:'Count%20of%20records',operationType:count,scale:ratio,sourceField:Records),bcf13466-e2bf-4ded-97f4-19007e2d10b7:(dataType:string,isBucketed:!t,label:'Top%20values%20of%20risk_level.keyword',operationType:terms,params:(missingBucket:!f,orderBy:(columnId:'591978df-7c5c-4e18-809e-09c12aac1cb2',type:column),orderDirection:desc,otherBucket:!t,size:5),scale:ordinal,sourceField:risk_level.keyword)),incompleteColumns:())))),filters:!(),query:(language:kuery,query:''),visualization:(layers:!((categoryDisplay:default,groups:!(bcf13466-e2bf-4ded-97f4-19007e2d10b7),layerId:f77935f3-583e-496f-97c3-ca00779d89de,layerType:data,legendDisplay:default,metric:'591978df-7c5c-4e18-809e-09c12aac1cb2',nestedLegend:!f,numberDisplay:percent)),shape:pie)),title:'',type:lens,visualizationType:lnsPie),enhancements:()),gridData:(h:15,i:'74cbcc56-ef63-49b2-8907-8f93d4ea73a1',w:24,x:0,y:13),panelIndex:'74cbcc56-ef63-49b2-8907-8f93d4ea73a1',type:lens,version:'7.17.0')),query:(language:kuery,query:''),tags:!(),timeRestore:!f,title:'AI%20Protector',viewMode:view)&_g=(filters:!(),query:(language:kuery,query:''),refreshInterval:(pause:!f,value:1000),time:(from:now-1d,to:now))"  allowfullscreen></iframe>
    </div>
  </div>
</div>
{% endblock %}
